<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Star Wars Quote Puzzle</title>

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-2GE589Z2W2"></script>
  <meta name="google-adsense-account" content="ca-pub-1200109181407050">
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-2GE589Z2W2');
  </script>

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #0d0d0d;
      color: #f5f5f5;
      max-width: 800px;
      margin: auto;
      padding: 20px;
    }
    h1 {
      text-align: center;
    }
    .quote-card {
      background: #1a1a1a;
      padding: 15px;
      margin-bottom: 20px;
      border-radius: 10px;
      box-shadow: 0 0 8px rgba(255, 255, 255, 0.1);
    }
    select {
      margin-top: 10px;
      width: 100%;
      padding: 8px;
      font-size: 16px;
      border-radius: 6px;
    }
    button {
      padding: 10px 20px;
      margin-top: 20px;
      width: 100%;
      background-color: #ffd700;
      color: #000;
      font-size: 16px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    #shareBtn {
      margin-top: 10px;
      background: #007aff;
      color: white;
    }
    #leaderboard {
      margin-top: 30px;
      background: #1a1a1a;
      padding: 15px;
      border-radius: 10px;
    }
    #leaderboard h3 {
      margin-bottom: 10px;
      font-size: 18px;
      color: #ffd700;
    }
    #leaderboard ul {
      list-style: none;
      padding: 0;
    }
    #leaderboard li {
      margin-bottom: 5px;
    }
  </style>
</head>
<body>
  <h1>üåå Star Wars Quote Q&A</h1>
  <div id="quiz-container"></div>
  <button id="nextBtn" onclick="nextPage()">Next Page</button>
  <button id="shareBtn" onclick="shareApp()">Share this App</button>
  <p id="result"></p>
  <div id="leaderboard"></div>
  <footer>YourDailyQaDose. All Rights Reserved 2025</footer>
  <a href="https://xnx6hd-iq.myshopify.com" target="_blank" style="color: #e4be29; font-size: 36px; text-decoration: none;"
  onclick="gtag('event', 'click', { 'event_category': 'Navigation', 'event_label': 'Amazon' });">
  </button>
              <button style="padding: 10px 20px; font-size: 16px; background-color: #d00b0b; color: white; border: none; cursor: pointer;">
                  üèóÔ∏è Go to Shop
              </button>
              </a>

  <script>
    const BASE_URL = 'https://unwailed-creepier-cory.ngrok-free.dev';

    const baseQuotes = [
      { quote: "I don't like sand. It's coarse and rough and irritating...", answer: "Anakin" },
      { quote: "So this is how liberty dies‚Ä¶ with thunderous applause.", answer: "Padm√©" },
      { quote: "You were the Chosen One! It was said that you would destroy the Sith, not join them!", answer: "Obi-Wan" },
      { quote: "The dark side of the Force is a pathway to many abilities some consider to be unnatural.", answer: "Palpatine" },
      { quote: "This is where the fun begins.", answer: "Anakin" },
      { quote: "You turned her against me!", answer: "Anakin" },
      { quote: "Only a Sith deals in absolutes.", answer: "Obi-Wan" },
      { quote: "I find your lack of faith disturbing.", answer: "Darth Vader" },
      { quote: "I‚Äôve brought peace, freedom, justice, and security to my new empire.", answer: "Anakin" },
      { quote: "There is still good in him.", answer: "Padm√©" },
      { quote: "I will be the most powerful Jedi ever.", answer: "Anakin" },
      { quote: "My allegiance is to the Republic, with democracy!", answer: "Obi-Wan" },
      { quote: "The Jedi are selfless. They only care about others.", answer: "Anakin" },
      { quote: "I've been dying a little bit each day since you came back into my life.", answer: "Padm√©" },
      { quote: "Power! Unlimited power!", answer: "Palpatine" },
      { quote: "If you're not with me, then you're my enemy!", answer: "Anakin" },
      { quote: "Anakin is gone. I am what remains.", answer: "Darth Vader" },
      { quote: "I am the Senate!", answer: "Palpatine" },
      { quote: "A surprise, to be sure, but a welcome one.", answer: "Palpatine" },
      { quote: "I sense great fear in you, Skywalker.", answer: "Count Dooku" },
      { quote: "I shouldn‚Äôt have done that. It‚Äôs not the Jedi way.", answer: "Anakin" },
      { quote: "Your focus determines your reality.", answer: "Qui-Gon Jinn" },
      { quote: "I have a bad feeling about this.", answer: "Obi-Wan" },
      { quote: "There‚Äôs always a bigger fish.", answer: "Qui-Gon Jinn" },
      { quote: "Fear leads to anger, anger leads to hate, hate leads to suffering.", answer: "Yoda" },
      { quote: "I am a Jedi, like my father before me.", answer: "Luke Skywalker" },
      { quote: "Do it.", answer: "Palpatine" },
      { quote: "Help me, Obi-Wan Kenobi. You‚Äôre my only hope.", answer: "Leia" },
      { quote: "No. I am your father.", answer: "Darth Vader" },
      { quote: "You were my brother, Anakin. I loved you.", answer: "Obi-Wan" },
      { quote: "Your overconfidence is your weakness.", answer: "Luke Skywalker" },
      { quote: "You underestimate my power!", answer: "Anakin" },
      { quote: "I am one with the Force. The Force is with me.", answer: "Chirrut √émwe" },
      { quote: "Chewie, we‚Äôre home.", answer: "Han Solo" },
      { quote: "That‚Äôs not how the Force works!", answer: "Han Solo" },
      { quote: "Never tell me the odds!", answer: "Han Solo" },
      { quote: "I‚Äôll never turn to the dark side.", answer: "Luke Skywalker" },
      { quote: "Let the past die. Kill it, if you have to.", answer: "Kylo Ren" },
      { quote: "I see through the lies of the Jedi.", answer: "Anakin" },
      { quote: "You will pay the price for your lack of vision!", answer: "Palpatine" },
      { quote: "I have the high ground!", answer: "Obi-Wan" },
      { quote: "We‚Äôre keepers of the peace, not soldiers.", answer: "Obi-Wan" },
      { quote: "The Jedi must end.", answer: "Luke Skywalker" },
      { quote: "Love won‚Äôt save you, Anakin.", answer: "Padm√©" },
      { quote: "The Republic will be reorganized into the first Galactic Empire.", answer: "Palpatine" },
      { quote: "You‚Äôre fulfilling your destiny.", answer: "Palpatine" },
      { quote: "The Force is what gives a Jedi his power.", answer: "Obi-Wan" },
      { quote: "I‚Äôm just a simple man trying to make my way in the universe.", answer: "Jango Fett" },
      { quote: "In my experience, there is no such thing as luck.", answer: "Obi-Wan" }
    ];

    const options = [...new Set(baseQuotes.map(q => q.answer))].sort();
    const total = baseQuotes.length;
    const perPage = 10;
    let answers = new Array(total).fill(null);
    let currentPage = 0;

    function renderPage() {
      const container = document.getElementById('quiz-container');
      container.innerHTML = '';
      const start = currentPage * perPage;
      const end = Math.min(start + perPage, total);
      for (let i = start; i < end; i++) {
        const card = document.createElement('div');
        card.className = 'quote-card';
        card.innerHTML = `
          <p><strong>"${baseQuotes[i].quote}"</strong></p>
          <select id="q${i}">
            <option value="">-- Choose --</option>
            ${options.map(o => `<option value="${o}" ${answers[i] === o ? 'selected' : ''}>${o}</option>`).join('')}
          </select>
        `;
        container.appendChild(card);
      }
      document.getElementById('nextBtn').innerText = (end >= total) ? 'Finish' : 'Next Page';
    }

    async function nextPage() {
      const start = currentPage * perPage;
      const end = Math.min(start + perPage, total);
      for (let i = start; i < end; i++) {
        const val = document.getElementById(`q${i}`).value;
        answers[i] = val;
      }

      if (end >= total) {
        const score = answers.reduce((acc, val, i) => acc + (val === baseQuotes[i].answer ? 1 : 0), 0);
        document.getElementById('quiz-container').innerHTML = '';
        document.getElementById('nextBtn').style.display = 'none';
        document.getElementById('shareBtn').style.display = 'block';
        document.getElementById('result').innerHTML = `‚≠ê You scored <strong>${score}/${total}</strong>!`;

        const name = prompt("Enter your name for the leaderboard:");
        if (name) {
          try {
            await fetch(`${BASE_URL}/scores`, {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify({ name, score, total })
            });
          } catch (err) {
            console.error('POST /scores failed:', err);
          }
        }

        loadLeaderboard();
      } else {
        currentPage++;
        renderPage();
      }
    }

    async function loadLeaderboard() {
      try {
        const res = await fetch(`${BASE_URL}/scores`);
        const data = await res.json();
        const board = document.getElementById('leaderboard');
        board.innerHTML = `
          <h3>üèÜ Leaderboard</h3>
          <ul>
            ${data.map(entry => `<li><strong>${entry.name}</strong>: ${entry.score}/${entry.total}</li>`).join('')}
          </ul>
        `;
      } catch (err) {
        console.error('GET /scores failed:', err);
      }
    }

    function shareApp() {
      if (navigator.share) {
        navigator.share({
          title: 'Star Wars Quote Puzzle',
          text: 'Test your Star Wars quote knowledge!',
          url: window.location.href
        });
      } else {
        alert('Sharing is not supported on this device.');
      }
    }

    renderPage();
  </script>
</body>
</html>

